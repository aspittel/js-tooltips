<!doctype html>
<link rel="stylesheet" href="https://highlightjs.org/static/demo/styles/atom-one-dark.css">
<style>
  pre {
    font-size: 24px;
    font-family: monospace;
    background: rgb(70, 70, 70);
    padding: 1em;
    color: rgb(255, 241, 221);
    display: inline-block;
  }

  #tooltip {
    font-family: monospace;
    padding: 1em;
    font-size: 16px;
    border: 1px solid black;
    background: rgb(253, 230, 173);
    position: absolute;
    z-index: 2;
  }

  .hidden {
    display: none;
  }

  .active {
    background: grey;
  }
</style>

<body>
  <pre>
  <code class="javascript">
    function add (parameterOne, parameterTwo) {
      console.log('Adding', parameterOne, 'and', parameterTwo)
      return parameterOne + parameterTwo
    }

    let sum = add(3, 4)
  </code> 
</pre>

  <span id="tooltip" class="hidden">-</span>

  <!-- Scripts -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad()</script>
  <script src="https://code.jquery.com/jquery-3.2.1.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4="
    crossorigin="anonymous">
    </script>

  <script>
    $(document).ready(_ => {
      const tooltips = {
        string: {
          text: `This is a string. Strings can be bounded or delimted by \`backticks\`, 'single qoutes', or "double quotes"`,
        },

        function: {
          text: "The fundamental unit of code in javascript. Functions are possibly the most important feature of the language.",
          terms: ["Hoisting", "Scope", "Closure", "Delimiters", "Arguments", "Parameters", "Signature"]
        },

        params: {
          text: "This is the function's signature: what parameters it takes."
        },

        title: {
          text: "This is the name of the function. The function when declared in this way, will be hoisted to the top of its scope."
        },

        built_in: {
          text: "`console` is a host object, a built-in object in JavaScript. The `window` is another example."
        },

        return: {
          text: "The return (or output) of the function."
        },

        let: {
          text: "We're declaring a variable named sum here. Variables declared with let exist only within and not outside whatever their current scope is."
        },

        number: {
          text: "This is a number in JavaScript. <br><br> It's being passed as one of two arguments to the function `add`, invoked here. <br><br>Functions are invoked with `()`. When we pass arguments to a function we are invoking or calling, we place them the in the parentheses, as is done above with 3 and 4."
        }
      }

      $('span[class^="hljs-"]').hover(highlightActive)
      $('span[class^="hljs-"]').hover(showToolTip)
      function highlightActive (event) {
        $(this).toggleClass('active')
      }
      function showToolTip (event) {
        event.stopImmediatePropagation()
        const classes = $(this).attr('class')
        const nodeText = $(this).text()
        const highlightClass = classes.replace('hljs-','').replace(' active', '')
        const tipKey = highlightClass === 'keyword' 
          ? nodeText
          : highlightClass
        const $tooltip = $(tooltip)
        if (tipKey !== 'keyword') {
          $tooltip.toggleClass('hidden').html(tooltips[tipKey].text)
          $tooltip.css('top', event.pageY)
          $tooltip.css('left', event.pageX)
        }
      }
    })
  </script>
</body>